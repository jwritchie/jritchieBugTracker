@*@model jritchieBugTracker.Models.CodeFirst.Project*@
@model jritchieBugTracker.Models.Helpers.ProjectUserViewModel

@{
    ViewBag.Title = "Details";
}

<h2>Project Details</h2>

<div>
    @*<h4>Project</h4>*@
    <hr />

    <dl class="dl-horizontal">
        <dt>
            Date Created: 
            @*@Html.DisplayNameFor(model => model.Created)*@
        </dt>

        <dd>
            <span style="color:red">New: 
                @Html.ToUserTime(Model.AssignProject.Created, ViewBag.UserTimeZone as string, "MM-dd-yyyy hh:mm:ss")
            </span>
            <span> | </span>
            <span style="color:forestgreen">No time:
                @Html.ToUserTime(Model.AssignProject.Created, ViewBag.UserTimeZone as string, "MM-dd-yyyy")
            </span>
            <span> | </span>
            <span style="color:dodgerblue">Old: 
                @Html.DisplayFor(model => model.AssignProject.Created)
            </span>
        </dd>

        <dt>
            Date Updated: 
            @*@Html.DisplayNameFor(model => model.Updated)*@
        </dt>

        <dd>
            @{
                if (Model.AssignProject.Updated != null)
                {
                    <span style="color:red">
                        New:
                        @Html.ToUserTime(Model.AssignProject.Updated.Value, ViewBag.UserTimeZone as string, "MM-dd-yyyy hh:mm:ss")
                    </span>
                    <span> | </span>
                    <span style="color:forestgreen">
                        No time:
                        @Html.ToUserTime(Model.AssignProject.Updated.Value, ViewBag.UserTimeZone as string, "MM-dd-yyyy")
                    </span>
                    <span> | </span>
                    <span style="color:dodgerblue">
                        Old:
                        @Html.ToUserTime(Model.AssignProject.Updated.Value, ViewBag.UserTimeZone as string)
                    </span>
                }
            }
            @*@Html.DisplayFor(model => model.AssignProject.Updated)*@
</dd>

        <dt>
            Name (Title)
            @*@Html.DisplayNameFor(model => model.Title)*@
        </dt>

        <dd>
            @Html.DisplayFor(model => model.AssignProject.Title)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.AssignProject.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.AssignProject.Description)
        </dd>

        @*<dt>
            @Html.DisplayNameFor(model => model.AuthorId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.AuthorId)
        </dd>*@
        <dt>
            Owner
            @*@Html.DisplayNameFor(model => model.Author)*@
        </dt>
        <dd>
            @Html.DisplayFor(model => model.AssignProject.Author)
        </dd>
        <hr style="width:40%" />
        <dt>
            Users
        </dt>
        <dd>
            @foreach (var user in Model.SelectedUsersName)
            {
                <p>@user</p>
            }
        </dd>


    </dl>
</div>
<p>
    @{ 
        if (User.IsInRole("Admin") || User.IsInRole("ProjectManager"))
        {
            @Html.ActionLink("Edit", "Edit", new { id = Model.AssignProject.Id })
            <span> |</span>
        }
    }
    @Html.ActionLink("Back to Project List", "Index")
</p>
